@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Theme Variables */
    --green-1: #acb0ad;
    --green-2: #a0a8a1;
    --green-3: #83a289;
    --green-4: #669a71;
    --green-5: #488d5b;
    --green-6: #337b48;
    --green-7: #1a6634;
    --green-8: #004d1d;
    --green-9: #2e5939;
    --green-10: #1e492a;
    --green-11: #001c00;
    --green-12: #1a4527;

    --green-a1: #2ecfff5b;
    --green-a2: #00c2fe43;
    --green-a3: #00c8f913;
    --green-a4: #00966694;
    --green-a5: #02854bb4;
    --green-a6: #017239ca;
    --green-a7: #005f2be4;
    --green-a8: #004d1d;
    --green-a9: #004929cf;
    --green-a10: #013e1ee0;
    --green-a11: #001c00;
    --green-a12: #003a1ce4;

    --green-contrast: #fff;
    --green-surface: #8caaa9cc;
    --green-indicator: #2e5939;
    --green-track: #2e5939;

    --gray-1: #bbaba6; /* Light Gray */
    --gray-2: #b5a099;
    --gray-3: #af9085;
    --gray-4: #ac7f70;
    --gray-5: #a47161;
    --gray-6: #a0604b;
    --gray-7: #9a4c32;
    --gray-8: #902600;
    --gray-9: #520100;
    --gray-10: #450000;
    --gray-11: #230000;
    --gray-12: #460000;

    --gray-a1: #3cc7fe4d; /* Light Gray Alpha */
    --gray-a2: #00a4fd33;
    --gray-a3: #0000f40b;
    --gray-a4: #0131494a;
    --gray-a5: #03122153;
    --gray-a6: #2d08016a;
    --gray-a7: #6217009c;
    --gray-a8: #902600;
    --gray-a9: #520100;
    --gray-a10: #450000;
    --gray-a11: #230000;
    --gray-a12: #460000;

    --gray-contrast: #ffffff; /* Light Gray Contrast */
    --gray-surface: #ffffffcc; /* Light Gray Surface */
    --gray-indicator: #520100; /* Light Gray Indicator */
    --gray-track: #520100; /* Light Gray Track */

    --color-background: #f29f80; /* Light theme background */

    /* Semantic variables for Light Theme */
    --background: var(--color-background);
    --foreground: var(--gray-12); /* Dark text on light orange bg */

    --card: var(--gray-surface); /* Almost white card */
    --card-foreground: var(--gray-12); /* Dark text on card */

    --popover: var(--gray-surface);
    --popover-foreground: var(--gray-12);

    --primary: var(--green-9);
    --primary-foreground: var(--green-contrast);

    --secondary: var(--green-3);
    --secondary-foreground: var(--green-11);

    --muted: var(--gray-5);
    --muted-foreground: var(--gray-9);

    --accent: var(--green-a7);
    --accent-foreground: var(--green-contrast);

    --destructive: var(--gray-8); /* A reddish/orange from light gray scale */
    --destructive-foreground: var(--gray-contrast);

    --success: var(--green-7);
    --success-foreground: var(--green-contrast);

    --border: var(--gray-4); /* Using a more solid gray for borders */
    --input: var(--gray-3); /* Slightly different gray for input bg */
    --ring: var(--green-7);

    --radius: 0.75rem;

    /* Brand alpha colors for card - Light Theme */
    --brand-orange-medium-a3: #f281574d; /* 30% alpha */
    --brand-green-dark-a4: #2e593966; /* 40% alpha */
    --brand-orange-medium-a5: #f2815780; /* 50% alpha for border */

    /* Card specific variables for light theme */
    --card-gradient-color-1: var(--brand-orange-medium-a3);
    --card-gradient-color-2: var(--brand-green-dark-a4);
    --card-border-color: var(--brand-orange-medium-a5);

    /* Brand alpha colors for BODY BACKGROUND - Light Theme */
    --background-gradient-color-1: var(
      --brand-orange-medium-a3
    ); /* Orange with alpha */
    --background-gradient-color-2: var(
      --brand-green-dark-a4
    ); /* Green with alpha */

    /* Custom layout variables */
    --header-height: 96px; /* Altura del Header (h-24) */
    --waves-height: 300px; /* Altura del componente Waves - ACTUALIZADO */
  }

  .dark,
  .dark-theme {
    /* Dark Theme Variables - NEW RED SCALE */
    --red-1: #8b8583;
    --red-2: #89817d;
    --red-3: #967e75;
    --red-4: #9e796b;
    --red-5: #a17767;
    --red-6: #a67867;
    --red-7: #b17d6a;
    --red-8: #c8876f;
    --red-9: #f2906b; /* Main accent for dark theme */
    --red-10: #e28765;
    --red-11: #ffb090;
    --red-12: #f7d9ce;

    --red-a1: #21c2fd6c;
    --red-a2: #10c0fd65;
    --red-a3: #1ec2fe5b;
    --red-a4: #1bc3ff4f;
    --red-a5: #19c3ff4a;
    --red-a6: #2ac7ff4a;
    --red-a7: #57d1fe4e;
    --red-a8: #a6e7fe54;
    --red-a9: #ffad8da8;
    --red-a10: #f9fffe48;
    --red-a11: #ffb090;
    --red-a12: #fffbf9ca;

    --red-contrast: #fff; /* Text on red elements */
    /* --red-surface: #3aaad180; /* User provided this, seems blueish. Using a dark red surface instead for consistency: var(--red-2) with alpha for now */
    --red-surface: color-mix(
      in srgb,
      var(--red-2) 50%,
      transparent
    ); /* Example: 50% transparent red-2 */
    --red-indicator: #f2906b;
    --red-track: #f2906b;

    /* Dark Theme Variables - NEW GRAY SCALE */
    --gray-1: #798c7d; /* Dark Gray */
    --gray-2: #778a7b;
    --gray-3: #748b78;
    --gray-4: #6f8874;
    --gray-5: #69866f;
    --gray-6: #64866b;
    --gray-7: #608c6a;
    --gray-8: #639f71;
    --gray-9: #5ca36e; /* Main accent for dark theme gray */
    --gray-10: #5ea570;
    --gray-11: #92d1a0; /* Lighter gray for text/elements on dark bg */
    --gray-12: #e2f3e5; /* Very light gray, almost white, for main text */

    --gray-a1: #00dcfd65; /* Dark Gray Alpha */
    --gray-a2: #00dbff62;
    --gray-a3: #00e1fd5f;
    --gray-a4: #00e0fd5a;
    --gray-a5: #00e4fe54;
    --gray-a6: #00edff4f;
    --gray-a7: #00fef950;
    --gray-a8: #00ffd26d;
    --gray-a9: #00ffc273;
    --gray-a10: #00ffc376;
    --gray-a11: #78ffceb9;
    --gray-a12: #e3fff3ed;

    --gray-contrast: #ffffff; /* Dark Gray Contrast */
    --gray-surface: rgba(
      0,
      0,
      0,
      0.05
    ); /* Dark Gray Surface (user provided) - maybe var(--gray-2) is better? */
    --gray-indicator: #5ca36e; /* Dark Gray Indicator */
    --gray-track: #5ca36e; /* Dark Gray Track */

    --color-background: #d95829; /* Dark theme background (user provided orange) */

    /* Semantic variables for Dark Theme */
    --background: var(--color-background); /* The user-provided orange */
    --foreground: var(--gray-12); /* Very light gray/almost white text */

    --card: var(--gray-2); /* Dark gray card background */
    --card-foreground: var(--gray-12); /* Light text on card */

    --popover: var(--gray-2);
    --popover-foreground: var(--gray-12);

    --primary: var(--red-9); /* Main red accent */
    --primary-foreground: var(--red-contrast); /* White text on red */

    --secondary: var(--red-5); /* A less prominent red */
    --secondary-foreground: var(--gray-12); /* Light text on secondary red */

    --muted: var(--gray-5);
    --muted-foreground: var(--gray-11);

    --accent: var(--red-9); /* Using main red as accent */
    --accent-foreground: var(--red-contrast);

    --destructive: var(--red-11); /* A lighter, but still alerting, red */
    --destructive-foreground: var(
      --gray-2
    ); /* Darker text for contrast on light red */

    --success: var(--gray-9); /* A green from the dark gray scale */
    --success-foreground: var(--gray-12); /* Light text on success green */

    --border: var(--gray-4);
    --input: var(--gray-3);
    --ring: var(--red-7);

    /* Brand alpha colors for card - Dark Theme */
    --brand-orange-light-a3: #f29f804d; /* brand-orange-light with 30% alpha for dark theme contrast */
    /* We can reuse brand-green-dark-a4 from :root if it provides good contrast, or define a new one */
    /* For example, if brand-green-dark-a4 is too dark on the dark orange background, we might use a lighter green or adjust its alpha */
    --brand-orange-light-a5: #f29f8080; /* brand-orange-light with 50% alpha for dark theme border */

    /* Card specific variables for dark theme */
    --card-gradient-color-1: var(--brand-orange-light-a3);
    /* --card-gradient-color-2 can remain var(--brand-green-dark-a4) or be specifically set for dark theme */
    --card-gradient-color-2: var(
      --brand-green-dark-a4
    ); /* Defaulting to the same as light, adjust if needed */
    --card-border-color: var(--brand-orange-light-a5);

    /* Brand alpha colors for BODY BACKGROUND - Dark Theme */
    /* Adjust these as needed for dark theme aesthetics */
    --background-gradient-color-1: var(
      --brand-orange-light-a3
    ); /* Lighter orange with alpha */
    --background-gradient-color-2: var(
      --brand-green-dark-a4
    ); /* Re-using, but consider a lighter/different green if needed */

    /* Custom layout variables for dark theme */
    --header-height: 96px; /* Altura del Header (h-24) */
    --waves-height: 300px; /* Altura del componente Waves - ACTUALIZADO */
  }
}

/* P3 definitions for Light Theme GREEN scale */
@supports (color: color(display-p3 1 1 1)) {
  @media (color-gamut: p3) {
    :root,
    .light,
    .light-theme {
      --green-1: oklch(75.2% 0.0056 150.6);
      --green-2: oklch(72.3% 0.0125 150.6);
      --green-3: oklch(68.2% 0.0514 150.6);
      --green-4: oklch(63.7% 0.0821 150.6);
      --green-5: oklch(58.5% 0.1048 150.6);
      --green-6: oklch(52.5% 0.1077 150.6);
      --green-7: oklch(45.1% 0.1077 150.6);
      --green-8: oklch(36.6% 0.1077 150.6);
      --green-9: oklch(42.3% 0.0718 150.6);
      --green-10: oklch(36.6% 0.0718 150.6);
      --green-11: oklch(18.8% 0.1077 150.6);
      --green-12: oklch(35.2% 0.0718 150.6);

      --green-a1: color(display-p3 0.2118 0.8 1 / 0.323);
      --green-a2: color(display-p3 0 0.7255 1 / 0.232);
      --green-a3: color(display-p3 0 0.4549 0.9961 / 0.042);
      --green-a4: color(display-p3 0 0.5647 0.3882 / 0.509);
      --green-a5: color(display-p3 0 0.4863 0.2745 / 0.614);
      --green-a6: color(display-p3 0 0.4039 0.2039 / 0.692);
      --green-a7: color(display-p3 0 0.3294 0.1412 / 0.783);
      --green-a8: color(display-p3 0 0.2471 0.0824 / 0.87);
      --green-a9: color(display-p3 0 0.251 0.1412 / 0.757);
      --green-a10: color(display-p3 0 0.2039 0.102 / 0.822);
      --green-a11: color(display-p3 0.0078 0.0941 0 / 0.978);
      --green-a12: color(display-p3 0 0.1922 0.0941 / 0.835);

      --green-contrast: #fff;
      --green-surface: color(display-p3 0.5686 0.6627 0.6627 / 0.8);
      --green-indicator: oklch(42.3% 0.0718 150.6);
      --green-track: oklch(42.3% 0.0718 150.6);
    }
  }
}

/* P3 definitions for Light Theme GRAY scale */
@supports (color: color(display-p3 1 1 1)) {
  @media (color-gamut: p3) {
    :root,
    .light,
    .light-theme {
      --gray-1: oklch(75.3% 0.0199 39.07);
      --gray-2: oklch(72.3% 0.0267 39.07);
      --gray-3: oklch(67.8% 0.0407 39.07);
      --gray-4: oklch(63.7% 0.061 39.07);
      --gray-5: oklch(59.7% 0.069 39.07);
      --gray-6: oklch(55.6% 0.0897 39.07);
      --gray-7: oklch(50.8% 0.1119 39.07);
      --gray-8: oklch(43.5% 0.1496 39.07);
      --gray-9: oklch(27.5% 0.1851 39.07);
      --gray-10: oklch(23.9% 0.1727 39.07);
      --gray-11: oklch(15.2% 0.142 39.07);
      --gray-12: oklch(24.3% 0.143 39.07);

      --gray-a1: color(display-p3 0.2431 0.7647 1 / 0.273);
      --gray-a2: color(display-p3 0 0.5922 1 / 0.166);
      --gray-a3: color(display-p3 0 0 0.9647 / 0.009);
      --gray-a4: color(display-p3 0.0039 0.1686 0.2627 / 0.283);
      --gray-a5: color(display-p3 0.0039 0.051 0.1137 / 0.322);
      --gray-a6: color(display-p3 0.149 0.0314 0.0039 / 0.411);
      --gray-a7: color(display-p3 0.3255 0.0824 0 / 0.583);
      --gray-a8: color(display-p3 0.4627 0.1137 0 / 0.866);
      --gray-a9: color(display-p3 0.2706 0.0157 0 / 0.963);
      --gray-a10: color(display-p3 0.2314 0.0118 0 / 0.978);
      --gray-a11: color(display-p3 0.1137 0.0039 0 / 0.993);
      --gray-a12: color(display-p3 0.2314 0.0118 0 / 0.978);

      --gray-contrast: #ffffff;
      --gray-surface: color(display-p3 1 1 1 / 80%);
      --gray-indicator: oklch(27.5% 0.1851 39.07);
      --gray-track: oklch(27.5% 0.1851 39.07);
    }
  }
}

/* P3 definitions for Dark Theme RED scale */
@supports (color: color(display-p3 1 1 1)) {
  @media (color-gamut: p3) {
    .dark,
    .dark-theme {
      --red-1: oklch(62.1% 0.0074 41.23);
      --red-2: oklch(60.9% 0.0115 41.23);
      --red-3: oklch(61.2% 0.0325 41.23);
      --red-4: oklch(60.8% 0.0512 41.23);
      --red-5: oklch(60.7% 0.0588 41.23);
      --red-6: oklch(61.4% 0.063 41.23);
      --red-7: oklch(63.8% 0.0703 41.23);
      --red-8: oklch(68.3% 0.0871 41.23);
      --red-9: oklch(74.9% 0.1302 41.23);
      --red-10: oklch(71.4% 0.1213 41.23);
      --red-11: oklch(83.1% 0.1085 41.23);
      --red-12: oklch(90.8% 0.0369 41.23);

      --red-a1: color(display-p3 0.1294 0.7608 1 / 0.377);
      --red-a2: color(display-p3 0.0588 0.7451 1 / 0.352);
      --red-a3: color(display-p3 0.0902 0.7686 0.9961 / 0.312);
      --red-a4: color(display-p3 0.0588 0.7608 1 / 0.267);
      --red-a5: color(display-p3 0.0627 0.7686 1 / 0.252);
      --red-a6: color(display-p3 0.1255 0.7843 1 / 0.252);
      --red-a7: color(display-p3 0.3098 0.8353 1 / 0.267);
      --red-a8: color(display-p3 0.6471 0.9333 1 / 0.297);
      --red-a9: color(display-p3 1 0.7843 0.6667 / 0.51);
      --red-a10: color(display-p3 0.9529 1 0.9725 / 0.271);
      --red-a11: color(display-p3 1 0.7961 0.6902 / 0.774);
      --red-a12: color(display-p3 0.9961 1 0.9961 / 0.768);

      --red-contrast: #fff;
      --red-surface: color(
        display-p3 0.2745 0.6353 0.7686 / 0.5
      ); /* User P3 red surface */
      --red-indicator: oklch(74.9% 0.1302 41.23);
      --red-track: oklch(74.9% 0.1302 41.23);
    }
  }
}

/* P3 definitions for Dark Theme GRAY scale */
@supports (color: color(display-p3 1 1 1)) {
  @media (color-gamut: p3) {
    .dark,
    .dark-theme {
      --gray-1: oklch(62.1% 0.0319 150.6);
      --gray-2: oklch(61.3% 0.0306 150.6);
      --gray-3: oklch(61.3% 0.0378 150.6);
      --gray-4: oklch(60.2% 0.0417 150.6);
      --gray-5: oklch(59.1% 0.0488 150.6);
      --gray-6: oklch(58.7% 0.0569 150.6);
      --gray-7: oklch(59.9% 0.0718 150.6);
      --gray-8: oklch(64.8% 0.0921 150.6);
      --gray-9: oklch(65.6% 0.1077 150.6);
      --gray-10: oklch(66.1% 0.1077 150.6);
      --gray-11: oklch(80.6% 0.0951 150.6);
      --gray-12: oklch(94.7% 0.025 150.6);

      --gray-a1: color(display-p3 0 0.8588 1 / 0.352);
      --gray-a2: color(display-p3 0 0.8471 1 / 0.342);
      --gray-a3: color(display-p3 0 0.8784 1 / 0.327);
      --gray-a4: color(display-p3 0 0.8667 0.9961 / 0.312);
      --gray-a5: color(display-p3 0 0.8824 1 / 0.287);
      --gray-a6: color(display-p3 0 0.9216 1 / 0.267);
      --gray-a7: color(display-p3 0 1 0.9882 / 0.271);
      --gray-a8: color(display-p3 0 1 0.8431 / 0.384);
      --gray-a9: color(display-p3 0 1 0.7882 / 0.409);
      --gray-a10: color(display-p3 0 1 0.7882 / 0.422);
      --gray-a11: color(display-p3 0.5569 1 0.8275 / 0.699);
      --gray-a12: color(display-p3 0.9098 1 0.9608 / 0.919);

      --gray-contrast: #ffffff;
      --gray-surface: color(display-p3 0 0 0 / 5%); /* User P3 gray surface */
      --gray-indicator: oklch(65.6% 0.1077 150.6);
      --gray-track: oklch(65.6% 0.1077 150.6);
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply text-foreground; /* Mantiene el color del texto adaptable al tema */

    /* Propiedades comunes del fondo del body para ambos temas */
    background-attachment: fixed;
    min-height: 100vh;

    /* Fondo por defecto (Tema Claro) */
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n' x='0' y='0' width='100%25' height='100%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' stitchTiles='stitch' numOctaves='1'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='0.15' filter='url(%23n)'/%3E%3C/svg%3E")
        repeat,
      /* Capa 1: Textura de ruido SVG */
        radial-gradient(
          circle at 30% 30%,
          var(--background-gradient-color-1) 0%,
          transparent 60%
        )
        no-repeat,
      /* Capa 2: Gradiente radial */
        linear-gradient(
          135deg,
          var(--background-gradient-color-1),
          var(--background-gradient-color-2)
        )
        no-repeat,
      /* Capa 3: Gradiente lineal */ url("/images/threebackground.svg") top
        center / cover no-repeat; /* Capa 4: Imagen de fondo, anclada arriba y centrada H por defecto */
  }

  .dark body,
  .dark-theme body {
    /* Fondo específico para el Tema Oscuro */
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n' x='0' y='0' width='100%25' height='100%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.4' stitchTiles='stitch' numOctaves='1'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='0.12' filter='url(%23n)'/%3E%3C/svg%3E")
        repeat,
      /* Capa 1: Textura de ruido SVG */
        radial-gradient(
          circle at 30% 30%,
          var(--background-gradient-color-1) 0%,
          transparent 60%
        )
        no-repeat,
      /* Capa 2: Gradiente radial */
        linear-gradient(
          135deg,
          var(--background-gradient-color-1),
          var(--background-gradient-color-2)
        )
        no-repeat,
      /* Capa 3: Gradiente lineal */ url("/images/threebackground.svg") top
        center / cover no-repeat; /* Capa 4: Imagen de fondo, anclada arriba y centrada H por defecto */
  }

  /* Media Query para móviles */
  @media (max-width: 767px) {
    body {
      /* Ajustar la posición de la capa de threebackground.svg específicamente para móviles */
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n' x='0' y='0' width='100%25' height='100%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' stitchTiles='stitch' numOctaves='1'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='0.15' filter='url(%23n)'/%3E%3C/svg%3E")
          repeat,
        /* Capa 1: Textura de ruido SVG (claro) */
          radial-gradient(
            circle at 30% 30%,
            var(--background-gradient-color-1) 0%,
            transparent 60%
          )
          no-repeat,
        /* Capa 2: Gradiente radial (claro) */
          linear-gradient(
            135deg,
            var(--background-gradient-color-1),
            var(--background-gradient-color-2)
          )
          no-repeat,
        /* Capa 3: Gradiente lineal (claro) */
          url("/images/threebackground.svg") 20% 0% / cover no-repeat; /* Capa 4: Imagen de fondo, 20% desde la izq, anclada arriba */
    }

    .dark body,
    .dark-theme body {
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n' x='0' y='0' width='100%25' height='100%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.4' stitchTiles='stitch' numOctaves='1'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' opacity='0.12' filter='url(%23n)'/%3E%3C/svg%3E")
          repeat,
        /* Capa 1: Textura de ruido SVG (oscuro) */
          radial-gradient(
            circle at 30% 30%,
            var(--background-gradient-color-1) 0%,
            transparent 60%
          )
          no-repeat,
        /* Capa 2: Gradiente radial (oscuro) */
          linear-gradient(
            135deg,
            var(--background-gradient-color-1),
            var(--background-gradient-color-2)
          )
          no-repeat,
        /* Capa 3: Gradiente lineal (oscuro) */
          url("/images/threebackground.svg") 20% 0% / cover no-repeat; /* Capa 4: Imagen de fondo, 20% desde la izq, anclada arriba */
    }
  }
}

/* Component classes */
.card {
  /* Restored to a more standard definition, assuming bg-card and border are desired from theme */
  @apply rounded-lg border bg-card p-6 shadow-sm;
}

.stat-card {
  @apply flex flex-col gap-2 rounded-lg border bg-card p-4 shadow-sm;
}

.stat-value {
  @apply text-3xl font-bold tracking-tight;
}

.stat-label {
  @apply text-sm text-muted-foreground;
}
